class PongGame{constructor(t,s,i){this.canvas=t,this.canvas.width=s,this.canvas.height=i,this.ctx=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.backgroundImage=new Image,this.backgroundImage.src="/assets/pong/bg.jpeg",this.paddleImage=new Image,this.paddleImage.src="/assets/pong/paddle.png",this.ballImage=new Image,this.ballImage.src="/assets/pong/ball.png",this.player1Icon=new Image,this.player1Icon.src="/assets/pong/player1.png",this.player2Icon=new Image,this.player2Icon.src="/assets/pong/player2.png",this.player1Score=0,this.player2Score=0,this.paddleWidth=10,this.paddleHeight=60,this.paddle1Y=(i-this.paddleHeight)/2,this.paddle2Y=(i-this.paddleHeight)/2,this.ballSize=10,this.ballX=s/2,this.ballY=i/2,this.ballSpeedX=5,this.ballSpeedY=5,this.keys={ArrowUp:!1,ArrowDown:!1},document.addEventListener("keydown",t=>this.handleKeyDown(t)),document.addEventListener("keyup",t=>this.handleKeyUp(t)),this.draw()}handleKeyDown(t){this.keys[t.key]=!0}handleKeyUp(t){this.keys[t.key]=!1}updatePaddles(){this.keys.ArrowUp&&this.paddle1Y>0&&(this.paddle1Y-=5),this.keys.ArrowDown&&this.paddle1Y+this.paddleHeight<this.canvas.height&&(this.paddle1Y+=5),this.paddle2Y<=0&&this.ballY<this.paddle2Y+this.paddleHeight/2?this.paddle2Y-=5:this.paddle2Y+this.paddleHeight>=this.canvas.height&&this.ballY>this.paddle2Y+this.paddleHeight/2?this.paddle2Y+=5:this.ballY<this.paddle2Y+this.paddleHeight/2?this.paddle2Y-=5:this.paddle2Y+=5}updateBall(){this.ballX+=this.ballSpeedX,this.ballY+=this.ballSpeedY,(this.ballY-this.ballSize<0||this.ballY+this.ballSize>this.canvas.height)&&(this.ballSpeedY=-this.ballSpeedY),(this.ballX-this.ballSize<this.paddleWidth&&this.ballY>this.paddle1Y&&this.ballY<this.paddle1Y+this.paddleHeight||this.ballX+this.ballSize>this.canvas.width-this.paddleWidth&&this.ballY>this.paddle2Y&&this.ballY<this.paddle2Y+this.paddleHeight)&&(this.ballSpeedX=-this.ballSpeedX),this.ballX-this.ballSize<0?(this.player2Score++,this.resetBall()):this.ballX+this.ballSize>this.canvas.width&&(this.player1Score++,this.resetBall())}resetBall(){this.ballX=this.canvas.width/2,this.ballY=this.canvas.height/2}draw(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.backgroundImage,0,0,this.canvas.width,this.canvas.height),this.updatePaddles(),this.updateBall(),this.ctx.fillStyle="red",this.ctx.fillRect(this.canvas.width/2-1,0,2,this.canvas.height),this.ctx.drawImage(this.paddleImage,0,this.paddle1Y,this.paddleWidth,this.paddleHeight),this.ctx.drawImage(this.paddleImage,this.canvas.width-this.paddleWidth,this.paddle2Y,this.paddleWidth,this.paddleHeight),this.ctx.drawImage(this.ballImage,this.ballX-this.ballSize,this.ballY-this.ballSize,2*this.ballSize,2*this.ballSize),this.renderPlayerIcon(this.player1Icon,50,30,this.player1Score),this.renderPlayerIcon(this.player2Icon,this.canvas.width-150,30,this.player2Score),requestAnimationFrame(()=>this.draw())}renderPlayerIcon(t,s,i,a){this.ctx.drawImage(t,s,i,30,30),this.ctx.font="16px Arial",this.ctx.fillStyle="#fff",this.ctx.fillText(`: ${a}`,s+35,i+20)}}window.PongGame=PongGame;